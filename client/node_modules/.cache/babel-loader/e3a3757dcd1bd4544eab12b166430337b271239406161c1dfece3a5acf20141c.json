{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kaybe\\\\Downloads\\\\Sneakeralot-ecommerce-website-main\\\\client\\\\src\\\\components\\\\layout\\\\Hero\\\\Hero.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef, lazy, Suspense } from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './Hero.module.css';\n\n// Lazy load components\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst QuickView = /*#__PURE__*/lazy(_c = () => import('./QuickView'));\n_c2 = QuickView;\nconst Hero = () => {\n  _s();\n  const [currentSlide, setCurrentSlide] = useState(0);\n  const [isAutoPlaying, setIsAutoPlaying] = useState(true);\n  const [direction, setDirection] = useState('next');\n  const [touchStart, setTouchStart] = useState(null);\n  const [touchEnd, setTouchEnd] = useState(null);\n  const [isZoomed, setIsZoomed] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [zoomLevel, setZoomLevel] = useState(1);\n  const [panPosition, setPanPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState({\n    x: 0,\n    y: 0\n  });\n  const [activeHotspot, setActiveHotspot] = useState(null);\n  const [touchMoveCount, setTouchMoveCount] = useState(0);\n  const [pinchStart, setPinchStart] = useState(null);\n  const touchTimeout = useRef(null);\n  const sliderRef = useRef(null);\n  const progressInterval = useRef(null);\n  const imageRef = useRef(null);\n  const [activeQuickView, setActiveQuickView] = useState(null);\n  const [selectedSize, setSelectedSize] = useState(null);\n  const [selectedColor, setSelectedColor] = useState(null);\n  const [is360View, setIs360View] = useState(false);\n  const [rotationDegree, setRotationDegree] = useState(0);\n  const rotationRef = useRef(null);\n  const [announceMessage, setAnnounceMessage] = useState('');\n  const [focusedElement, setFocusedElement] = useState(null);\n  const announceRef = useRef(null);\n  const slideRefs = useRef([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [swipeVelocity, setSwipeVelocity] = useState(0);\n  const [lastTouchTime, setLastTouchTime] = useState(0);\n  const [lastTouchX, setLastTouchX] = useState(0);\n  const [preloadedImages, setPreloadedImages] = useState(new Set());\n  const parallaxRef = useRef(null);\n  const particlesRef = useRef(null);\n  const slides = [{\n    id: 1,\n    title: \"Summer Collection 2024\",\n    subtitle: \"Step into Style\",\n    description: \"Discover the latest trends in sneaker fashion with our curated summer collection\",\n    cta: \"Shop Now\",\n    image: \"/images/hero/slide1.jpg\",\n    color: \"#FF4D4D\",\n    product: {\n      name: \"Air Max Pulse\",\n      price: 179.99,\n      originalPrice: 199.99,\n      sizes: [\"US 7\", \"US 8\", \"US 9\", \"US 10\", \"US 11\"],\n      colors: [{\n        name: \"Obsidian\",\n        code: \"#1a237e\"\n      }, {\n        name: \"Crimson\",\n        code: \"#d32f2f\"\n      }, {\n        name: \"Platinum\",\n        code: \"#e0e0e0\"\n      }],\n      images360: [\"/images/hero/slide1.jpg\", \"/images/hero/slide1.jpg\", \"/images/hero/slide1.jpg\"],\n      features: [\"Responsive Cushioning\", \"Breathable Mesh\", \"Durable Outsole\"]\n    },\n    hotspots: [{\n      id: 'hs1',\n      x: 25,\n      y: 45,\n      title: 'Premium Materials',\n      description: 'Made with genuine leather and premium textiles',\n      icon: 'diamond-outline',\n      type: 'material'\n    }, {\n      id: 'hs2',\n      x: 65,\n      y: 70,\n      title: 'Comfort Technology',\n      description: 'Advanced cushioning system for all-day comfort',\n      icon: 'fitness-outline',\n      type: 'feature',\n      price: 179.99\n    }]\n  }, {\n    id: 2,\n    title: \"Limited Edition Drops\",\n    subtitle: \"Exclusive Collection\",\n    description: \"Get your hands on rare and exclusive sneakers before they're gone\",\n    cta: \"View Collection\",\n    image: \"/images/hero/slide2.jpg\",\n    color: \"#4D7FFF\",\n    product: {\n      name: \"Limited Edition Runner\",\n      price: 199.99,\n      sizes: [\"US 8\", \"US 9\", \"US 10\"],\n      colors: [{\n        name: \"Gold\",\n        code: \"#FFD700\"\n      }, {\n        name: \"Silver\",\n        code: \"#C0C0C0\"\n      }],\n      images360: [\"/images/hero/slide2.jpg\", \"/images/hero/slide2.jpg\", \"/images/hero/slide2.jpg\"],\n      features: [\"Limited Edition\", \"Numbered Series\", \"Certificate of Authenticity\"]\n    },\n    hotspots: [{\n      id: 'hs3',\n      x: 35,\n      y: 60,\n      title: 'Limited Edition',\n      description: 'Only 100 pairs available worldwide',\n      icon: 'star-outline',\n      type: 'feature'\n    }]\n  }, {\n    id: 3,\n    title: \"New Arrivals\",\n    subtitle: \"Fresh Kicks\",\n    description: \"Be the first to wear the newest releases from top brands\",\n    cta: \"Explore Now\",\n    image: \"/images/hero/slide3.jpg\",\n    color: \"#FFB84D\",\n    product: {\n      name: \"Fresh Release\",\n      price: 159.99,\n      sizes: [\"US 7\", \"US 8\", \"US 9\", \"US 10\", \"US 11\"],\n      colors: [{\n        name: \"White\",\n        code: \"#FFFFFF\"\n      }, {\n        name: \"Black\",\n        code: \"#000000\"\n      }],\n      images360: [\"/images/hero/slide3.jpg\", \"/images/hero/slide3.jpg\", \"/images/hero/slide3.jpg\"],\n      features: [\"New Release\", \"Modern Design\", \"Premium Quality\"]\n    }\n  }];\n  const announceSlideChange = useCallback(index => {\n    const slide = slides[index];\n    const message = `Now showing slide ${index + 1} of ${slides.length}: ${slide.title}. ${slide.description}`;\n    setAnnounceMessage(message);\n  }, [slides]);\n  const nextSlide = useCallback(() => {\n    setDirection('next');\n    setCurrentSlide(prev => {\n      const newIndex = (prev + 1) % slides.length;\n      announceSlideChange(newIndex);\n      return newIndex;\n    });\n    setIsZoomed(false);\n    setProgress(0);\n  }, [slides.length, announceSlideChange]);\n  const prevSlide = useCallback(() => {\n    setDirection('prev');\n    setCurrentSlide(prev => {\n      const newIndex = (prev - 1 + slides.length) % slides.length;\n      announceSlideChange(newIndex);\n      return newIndex;\n    });\n    setIsZoomed(false);\n    setProgress(0);\n  }, [slides.length, announceSlideChange]);\n  const goToSlide = index => {\n    setDirection(index > currentSlide ? 'next' : 'prev');\n    setCurrentSlide(index);\n    announceSlideChange(index);\n    setIsZoomed(false);\n    setProgress(0);\n  };\n  useEffect(() => {\n    let interval;\n    if (isAutoPlaying && !isZoomed) {\n      interval = setInterval(nextSlide, 5000);\n\n      // Progress bar update\n      if (progressInterval.current) {\n        clearInterval(progressInterval.current);\n      }\n      progressInterval.current = setInterval(() => {\n        setProgress(prev => {\n          if (prev >= 100) return 0;\n          return prev + 2;\n        });\n      }, 100);\n    }\n    return () => {\n      clearInterval(interval);\n      if (progressInterval.current) {\n        clearInterval(progressInterval.current);\n      }\n    };\n  }, [isAutoPlaying, nextSlide, isZoomed]);\n  const handleMouseEnter = () => setIsAutoPlaying(false);\n  const handleMouseLeave = () => {\n    if (!isZoomed) {\n      setIsAutoPlaying(true);\n    }\n  };\n  const handleKeyDown = e => {\n    switch (e.key) {\n      case 'ArrowLeft':\n        prevSlide();\n        break;\n      case 'ArrowRight':\n        nextSlide();\n        break;\n      case 'ArrowUp':\n        if (isZoomed) {\n          setPanPosition(prev => ({\n            ...prev,\n            y: Math.max(prev.y - 10, -100)\n          }));\n        }\n        break;\n      case 'ArrowDown':\n        if (isZoomed) {\n          setPanPosition(prev => ({\n            ...prev,\n            y: Math.min(prev.y + 10, 100)\n          }));\n        }\n        break;\n      case 'Escape':\n        if (isZoomed) {\n          setIsZoomed(false);\n          setPanPosition({\n            x: 0,\n            y: 0\n          });\n          setZoomLevel(1);\n        } else if (activeQuickView !== null) {\n          setActiveQuickView(null);\n        }\n        break;\n      case 'Tab':\n        // Handle focus trap in quick view modal\n        if (activeQuickView !== null) {\n          e.preventDefault();\n          handleTabKey(e.shiftKey);\n        }\n        break;\n      case ' ':\n      case 'Enter':\n        if (focusedElement === 'slider') {\n          setIsAutoPlaying(prev => !prev);\n          announceAutoplayState(!isAutoPlaying);\n        }\n        break;\n      default:\n        break;\n    }\n  };\n  const handleTabKey = shiftKey => {\n    const focusableElements = getFocusableElements();\n    const firstElement = focusableElements[0];\n    const lastElement = focusableElements[focusableElements.length - 1];\n    if (shiftKey && document.activeElement === firstElement) {\n      lastElement.focus();\n    } else if (!shiftKey && document.activeElement === lastElement) {\n      firstElement.focus();\n    }\n  };\n  const getFocusableElements = () => {\n    const modal = document.querySelector(`.${styles.quickView}`);\n    if (!modal) return [];\n    return Array.from(modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'));\n  };\n  const announceAutoplayState = isPlaying => {\n    setAnnounceMessage(isPlaying ? 'Slideshow autoplay started' : 'Slideshow autoplay paused');\n  };\n\n  // Focus management\n  useEffect(() => {\n    if (activeQuickView !== null) {\n      // Focus first focusable element in quick view\n      const focusableElements = getFocusableElements();\n      if (focusableElements.length > 0) {\n        focusableElements[0].focus();\n      }\n    } else {\n      var _sliderRef$current;\n      // Return focus to slider\n      (_sliderRef$current = sliderRef.current) === null || _sliderRef$current === void 0 ? void 0 : _sliderRef$current.focus();\n    }\n  }, [activeQuickView]);\n\n  // Screen reader announcements\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      setAnnounceMessage('');\n    }, 1000);\n    return () => clearTimeout(timeoutId);\n  }, [announceMessage]);\n  const handleZoomIn = () => {\n    setZoomLevel(prev => Math.min(prev + 0.5, 3));\n    setIsZoomed(true);\n    setIsAutoPlaying(false);\n  };\n  const handleZoomOut = () => {\n    setZoomLevel(prev => {\n      const newZoom = Math.max(prev - 0.5, 1);\n      if (newZoom === 1) {\n        setIsZoomed(false);\n        setPanPosition({\n          x: 0,\n          y: 0\n        });\n      }\n      return newZoom;\n    });\n  };\n  const handleMouseDown = e => {\n    if (isZoomed) {\n      setIsDragging(true);\n      setDragStart({\n        x: e.clientX - panPosition.x,\n        y: e.clientY - panPosition.y\n      });\n    }\n  };\n  const handleMouseMove = e => {\n    if (isDragging && isZoomed) {\n      var _imageRef$current, _imageRef$current2;\n      const maxPanX = ((_imageRef$current = imageRef.current) === null || _imageRef$current === void 0 ? void 0 : _imageRef$current.offsetWidth) * (zoomLevel - 1) / 2;\n      const maxPanY = ((_imageRef$current2 = imageRef.current) === null || _imageRef$current2 === void 0 ? void 0 : _imageRef$current2.offsetHeight) * (zoomLevel - 1) / 2;\n      const newX = e.clientX - dragStart.x;\n      const newY = e.clientY - dragStart.y;\n      setPanPosition({\n        x: Math.max(Math.min(newX, maxPanX), -maxPanX),\n        y: Math.max(Math.min(newY, maxPanY), -maxPanY)\n      });\n    }\n  };\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n  const handleWheel = e => {\n    if (e.ctrlKey) {\n      e.preventDefault();\n      const delta = -Math.sign(e.deltaY) * 0.1;\n      const newZoom = Math.max(1, Math.min(3, zoomLevel + delta));\n      setZoomLevel(newZoom);\n      if (newZoom > 1) {\n        setIsZoomed(true);\n        setIsAutoPlaying(false);\n      } else {\n        setIsZoomed(false);\n        setPanPosition({\n          x: 0,\n          y: 0\n        });\n      }\n    }\n  };\n  useEffect(() => {\n    const handleKeyZoom = e => {\n      if (e.ctrlKey && e.key === '+') {\n        e.preventDefault();\n        handleZoomIn();\n      } else if (e.ctrlKey && e.key === '-') {\n        e.preventDefault();\n        handleZoomOut();\n      }\n    };\n    window.addEventListener('keydown', handleKeyZoom);\n    return () => window.removeEventListener('keydown', handleKeyZoom);\n  }, []);\n  const handleTouchStart = e => {\n    setLastTouchTime(Date.now());\n    setLastTouchX(e.touches[0].clientX);\n    if (e.touches.length === 2) {\n      // Handle pinch zoom\n      const distance = Math.hypot(e.touches[0].clientX - e.touches[1].clientX, e.touches[0].clientY - e.touches[1].clientY);\n      setPinchStart({\n        distance,\n        zoom: zoomLevel\n      });\n    } else {\n      setTouchStart(e.touches[0].clientX);\n      setTouchMoveCount(0);\n      if (touchTimeout.current) {\n        clearTimeout(touchTimeout.current);\n      }\n    }\n  };\n  const handleTouchMove = e => {\n    const currentTime = Date.now();\n    const currentX = e.touches[0].clientX;\n    const timeDiff = currentTime - lastTouchTime;\n    const distance = currentX - lastTouchX;\n    if (timeDiff > 0) {\n      setSwipeVelocity(distance / timeDiff);\n    }\n    if (pinchStart && e.touches.length === 2) {\n      // Handle pinch zoom\n      e.preventDefault();\n      const distance = Math.hypot(e.touches[0].clientX - e.touches[1].clientX, e.touches[0].clientY - e.touches[1].clientY);\n      const scale = distance / pinchStart.distance;\n      const newZoom = Math.max(1, Math.min(3, pinchStart.zoom * scale));\n      setZoomLevel(newZoom);\n      if (newZoom > 1) {\n        setIsZoomed(true);\n        setIsAutoPlaying(false);\n      }\n    } else if (e.touches.length === 1) {\n      setTouchEnd(e.touches[0].clientX);\n      setTouchMoveCount(prev => prev + 1);\n    }\n  };\n  const handleTouchEnd = e => {\n    const velocityThreshold = 0.5;\n    if (Math.abs(swipeVelocity) > velocityThreshold) {\n      if (swipeVelocity > 0) {\n        prevSlide();\n      } else {\n        nextSlide();\n      }\n      // Add haptic feedback if available\n      if (window.navigator.vibrate) {\n        window.navigator.vibrate(50);\n      }\n    }\n    if (pinchStart) {\n      setPinchStart(null);\n      if (zoomLevel === 1) {\n        setIsZoomed(false);\n        setPanPosition({\n          x: 0,\n          y: 0\n        });\n      }\n    } else {\n      if (touchMoveCount < 3) {\n        // Handle tap\n        touchTimeout.current = setTimeout(() => {\n          const touch = e.changedTouches[0];\n          const element = document.elementFromPoint(touch.clientX, touch.clientY);\n          const hotspotElement = element.closest(`.${styles.hotspot}`);\n          if (hotspotElement) {\n            const hotspotId = hotspotElement.dataset.id;\n            setActiveHotspot(activeHotspot === hotspotId ? null : hotspotId);\n          } else {\n            setActiveHotspot(null);\n          }\n        }, 300);\n      } else {\n        // Handle swipe\n        if (!touchStart || !touchEnd) return;\n        const distance = touchStart - touchEnd;\n        const isLeftSwipe = distance > 50;\n        const isRightSwipe = distance < -50;\n        if (isLeftSwipe) {\n          nextSlide();\n        } else if (isRightSwipe) {\n          prevSlide();\n        }\n      }\n    }\n    setTouchStart(null);\n    setTouchEnd(null);\n  };\n  useEffect(() => {\n    const slider = sliderRef.current;\n    if (slider) {\n      slider.focus();\n    }\n  }, []);\n  const getSlideClassName = index => {\n    if (index === currentSlide) return styles.active;\n    if (direction === 'next' && index === (currentSlide + 1) % slides.length) return styles.next;\n    if (direction === 'prev' && index === (currentSlide - 1 + slides.length) % slides.length) return styles.prev;\n    return '';\n  };\n  const handleQuickView = productId => {\n    setActiveQuickView(activeQuickView === productId ? null : productId);\n    setSelectedSize(null);\n    setSelectedColor(null);\n    setIs360View(false);\n    setRotationDegree(0);\n  };\n  const handle360Drag = e => {\n    if (is360View && rotationRef.current) {\n      const rect = rotationRef.current.getBoundingClientRect();\n      const x = e.clientX - rect.left;\n      const percentage = x / rect.width;\n      const newDegree = Math.floor(percentage * 360);\n      setRotationDegree(newDegree);\n    }\n  };\n  const toggleView = () => {\n    setIs360View(!is360View);\n    setRotationDegree(0);\n  };\n  const renderQuickView = product => {\n    if (!product) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.quickView,\n      onClick: e => e.stopPropagation(),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.quickViewContent,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.closeButton,\n          onClick: () => setActiveQuickView(null),\n          \"aria-label\": \"Close quick view\",\n          children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n            name: \"close-outline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.productGallery,\n          children: is360View ? /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: rotationRef,\n            className: styles.view360,\n            onMouseMove: handle360Drag,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.images360[Math.floor(rotationDegree / (360 / product.images360.length))],\n              alt: `${product.name} - ${rotationDegree}° view`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.viewToggle,\n              onClick: toggleView,\n              \"aria-label\": \"Switch to standard view\",\n              children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                name: \"image-outline\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.standardView,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.image,\n              alt: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.viewToggle,\n              onClick: toggleView,\n              \"aria-label\": \"Switch to 360\\xB0 view\",\n              children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                name: \"360-outline\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.productInfo,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.priceWrapper,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.price,\n              children: [\"$\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 15\n            }, this), product.originalPrice && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.originalPrice,\n              children: [\"$\", product.originalPrice]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.sizeSelector,\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Select Size\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 602,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.sizeOptions,\n              children: product.sizes.map(size => /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `${styles.sizeOption} ${selectedSize === size ? styles.selected : ''}`,\n                onClick: () => setSelectedSize(size),\n                children: size\n              }, size, false, {\n                fileName: _jsxFileName,\n                lineNumber: 605,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.colorSelector,\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Select Color\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.colorOptions,\n              children: product.colors.map(color => /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `${styles.colorOption} ${selectedColor === color.name ? styles.selected : ''}`,\n                style: {\n                  '--color': color.code\n                },\n                onClick: () => setSelectedColor(color.name),\n                \"aria-label\": `Select ${color.name} color`,\n                children: selectedColor === color.name && /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                  name: \"checkmark-outline\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 628,\n                  columnNumber: 23\n                }, this)\n              }, color.name, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.features,\n            children: product.features.map((feature, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.feature,\n              children: [/*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                name: \"checkmark-circle-outline\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: feature\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.addToCart,\n            disabled: !selectedSize || !selectedColor,\n            children: [\"Add to Cart\", /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n              name: \"bag-add-outline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 7\n    }, this);\n  };\n  const renderHotspots = slide => {\n    if (!slide.hotspots) return null;\n    return slide.hotspots.map(hotspot => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${styles.hotspot} ${styles[hotspot.type]} ${activeHotspot === hotspot.id ? styles.active : ''}`,\n      style: {\n        left: `${hotspot.x}%`,\n        top: `${hotspot.y}%`\n      },\n      onClick: e => {\n        e.stopPropagation();\n        if (hotspot.type === '360view') {\n          setIs360View(true);\n        } else {\n          setActiveHotspot(activeHotspot === hotspot.id ? null : hotspot.id);\n        }\n      },\n      \"data-id\": hotspot.id,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.hotspotIcon,\n        children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n          name: hotspot.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 676,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 675,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.hotspotContent,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: hotspot.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 679,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: hotspot.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 680,\n          columnNumber: 11\n        }, this), hotspot.price && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.quickViewButton,\n          onClick: e => {\n            e.stopPropagation();\n            handleQuickView(slide.id);\n          },\n          children: [\"Quick View\", /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n            name: \"eye-outline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.hotspotRing\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 694,\n        columnNumber: 9\n      }, this)]\n    }, hotspot.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 7\n    }, this));\n  };\n\n  // Preload images\n  useEffect(() => {\n    const preloadNextImage = index => {\n      const nextIndex = (index + 1) % slides.length;\n      const imageUrl = slides[nextIndex].image;\n      if (!preloadedImages.has(imageUrl)) {\n        const img = new Image();\n        img.src = imageUrl;\n        img.onload = () => {\n          setPreloadedImages(prev => new Set([...prev, imageUrl]));\n        };\n      }\n    };\n    preloadNextImage(currentSlide);\n  }, [currentSlide, slides, preloadedImages]);\n\n  // Parallax effect\n  useEffect(() => {\n    const handleScroll = () => {\n      if (parallaxRef.current) {\n        const scrolled = window.pageYOffset;\n        parallaxRef.current.style.transform = `translateY(${scrolled * 0.5}px)`;\n      }\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // Particle effect\n  useEffect(() => {\n    if (particlesRef.current) {\n      const canvas = particlesRef.current;\n      const ctx = canvas.getContext('2d');\n      const particles = [];\n      const createParticle = () => ({\n        x: Math.random() * canvas.width,\n        y: Math.random() * canvas.height,\n        size: Math.random() * 3 + 1,\n        speedX: Math.random() * 2 - 1,\n        speedY: Math.random() * 2 - 1,\n        opacity: Math.random() * 0.5 + 0.2\n      });\n      for (let i = 0; i < 50; i++) {\n        particles.push(createParticle());\n      }\n      const animate = () => {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        particles.forEach(particle => {\n          particle.x += particle.speedX;\n          particle.y += particle.speedY;\n          if (particle.x < 0 || particle.x > canvas.width) particle.speedX *= -1;\n          if (particle.y < 0 || particle.y > canvas.height) particle.speedY *= -1;\n          ctx.beginPath();\n          ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);\n          ctx.fillStyle = `rgba(255, 255, 255, ${particle.opacity})`;\n          ctx.fill();\n        });\n        requestAnimationFrame(animate);\n      };\n      animate();\n    }\n  }, []);\n\n  // Skip link for accessibility\n  const handleSkipToContent = () => {\n    const mainContent = document.querySelector('main');\n    if (mainContent) {\n      mainContent.focus();\n      mainContent.scrollIntoView();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSkipToContent,\n      className: styles.skipLink,\n      children: \"Skip to main content\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 784,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      role: \"status\",\n      \"aria-live\": \"polite\",\n      className: styles.visuallyHidden,\n      children: announceMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 791,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      ref: sliderRef,\n      className: styles.hero,\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      onKeyDown: handleKeyDown,\n      onTouchStart: handleTouchStart,\n      onTouchMove: handleTouchMove,\n      onTouchEnd: handleTouchEnd,\n      onMouseDown: handleMouseDown,\n      onMouseMove: handleMouseMove,\n      onMouseUp: handleMouseUp,\n      onWheel: handleWheel,\n      tabIndex: \"0\",\n      role: \"region\",\n      \"aria-label\": `Hero Slider with ${slides.length} slides. Use arrow keys to navigate. Press Space or Enter to toggle autoplay.`,\n      \"aria-roledescription\": \"carousel\",\n      style: {\n        cursor: isDragging ? 'grabbing' : isZoomed ? 'grab' : 'default'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: particlesRef,\n        className: styles.particles,\n        \"aria-hidden\": \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 818,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: parallaxRef,\n        className: styles.parallaxWrapper,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.slider,\n          children: slides.map((slide, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: el => slideRefs.current[index] = el,\n            className: `${styles.slide} ${getSlideClassName(index)}`,\n            style: {\n              '--slide-color': slide.color\n            },\n            role: \"group\",\n            \"aria-roledescription\": \"slide\",\n            \"aria-label\": `${index + 1} of ${slides.length}: ${slide.title}`,\n            \"aria-hidden\": index !== currentSlide,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.content,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.subtitle,\n                role: \"text\",\n                children: slide.subtitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 843,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: styles.title,\n                children: slide.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 844,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: styles.description,\n                children: slide.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 845,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/shop\",\n                className: styles.cta,\n                \"aria-label\": `${slide.cta} - ${slide.title}`,\n                children: [slide.cta, /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                  name: \"arrow-forward-outline\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 852,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 846,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 842,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.imageWrapper,\n              children: [/*#__PURE__*/_jsxDEV(\"picture\", {\n                children: [/*#__PURE__*/_jsxDEV(\"source\", {\n                  media: \"(min-width: 1200px)\",\n                  srcSet: `${slide.image}?width=1600 1x, ${slide.image}?width=3200 2x`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 858,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"source\", {\n                  media: \"(min-width: 768px)\",\n                  srcSet: `${slide.image}?width=1200 1x, ${slide.image}?width=2400 2x`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 862,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `${slide.image}?width=800`,\n                  alt: slide.title,\n                  loading: index === currentSlide ? \"eager\" : \"lazy\",\n                  onLoad: () => index === currentSlide && setIsLoading(false),\n                  className: styles.slideImage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 866,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 857,\n                columnNumber: 19\n              }, this), isLoading && index === currentSlide && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.skeleton,\n                \"aria-hidden\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 876,\n                columnNumber: 21\n              }, this), renderHotspots(slide)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 17\n            }, this), activeQuickView === slide.id && slide.product && /*#__PURE__*/_jsxDEV(Suspense, {\n              fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.loading,\n                children: \"Loading...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 883,\n                columnNumber: 39\n              }, this),\n              children: /*#__PURE__*/_jsxDEV(QuickView, {\n                product: slide.product,\n                onClose: () => setActiveQuickView(null)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 884,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 883,\n              columnNumber: 19\n            }, this)]\n          }, slide.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 830,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 828,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 824,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.controls,\n        role: \"group\",\n        \"aria-label\": \"Slider controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `${styles.arrow} ${styles.prev}`,\n          onClick: prevSlide,\n          \"aria-label\": \"Previous slide\",\n          \"aria-controls\": \"hero-slider\",\n          children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n            name: \"chevron-back-outline\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 906,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 900,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.indicators,\n          role: \"group\",\n          \"aria-label\": \"Slide indicators\",\n          children: slides.map((_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `${styles.indicator} ${index === currentSlide ? styles.active : ''}`,\n            onClick: () => goToSlide(index),\n            \"aria-label\": `Go to slide ${index + 1}`,\n            \"aria-current\": index === currentSlide,\n            \"aria-controls\": \"hero-slider\"\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 914,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 908,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `${styles.arrow} ${styles.next}`,\n          onClick: nextSlide,\n          \"aria-label\": \"Next slide\",\n          \"aria-controls\": \"hero-slider\",\n          children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n            name: \"chevron-forward-outline\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 930,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 924,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 895,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.zoomControl,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.zoomButton,\n          onClick: handleZoomIn,\n          disabled: zoomLevel >= 3,\n          \"aria-label\": \"Zoom in\",\n          children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n            name: \"add-outline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 941,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 935,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.zoomButton,\n          onClick: handleZoomOut,\n          disabled: zoomLevel <= 1,\n          \"aria-label\": \"Zoom out\",\n          children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n            name: \"remove-outline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 949,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 943,\n          columnNumber: 11\n        }, this), isZoomed && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.zoomButton,\n          onClick: () => {\n            setZoomLevel(1);\n            setIsZoomed(false);\n            setPanPosition({\n              x: 0,\n              y: 0\n            });\n          },\n          \"aria-label\": \"Reset zoom\",\n          children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n            name: \"refresh-outline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 961,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 952,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 934,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.previewContainer,\n        children: slides.map((slide, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `${styles.preview} ${index === currentSlide ? styles.active : ''}`,\n          onClick: () => goToSlide(index),\n          \"aria-label\": `Preview of ${slide.title}`,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: slide.image,\n            alt: \"\",\n            className: styles.previewImage,\n            loading: \"lazy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 974,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.previewOverlay\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 980,\n            columnNumber: 15\n          }, this)]\n        }, slide.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 968,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 966,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.progressBar,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.progressFill,\n          style: {\n            width: `${progress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 986,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 985,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 799,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Hero, \"SONritNXCjl1vh1U0vu/7Se5DQ8=\");\n_c3 = Hero;\nexport default Hero;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"QuickView$lazy\");\n$RefreshReg$(_c2, \"QuickView\");\n$RefreshReg$(_c3, \"Hero\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","lazy","Suspense","Link","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","QuickView","_c","_c2","Hero","_s","currentSlide","setCurrentSlide","isAutoPlaying","setIsAutoPlaying","direction","setDirection","touchStart","setTouchStart","touchEnd","setTouchEnd","isZoomed","setIsZoomed","progress","setProgress","zoomLevel","setZoomLevel","panPosition","setPanPosition","x","y","isDragging","setIsDragging","dragStart","setDragStart","activeHotspot","setActiveHotspot","touchMoveCount","setTouchMoveCount","pinchStart","setPinchStart","touchTimeout","sliderRef","progressInterval","imageRef","activeQuickView","setActiveQuickView","selectedSize","setSelectedSize","selectedColor","setSelectedColor","is360View","setIs360View","rotationDegree","setRotationDegree","rotationRef","announceMessage","setAnnounceMessage","focusedElement","setFocusedElement","announceRef","slideRefs","isLoading","setIsLoading","swipeVelocity","setSwipeVelocity","lastTouchTime","setLastTouchTime","lastTouchX","setLastTouchX","preloadedImages","setPreloadedImages","Set","parallaxRef","particlesRef","slides","id","title","subtitle","description","cta","image","color","product","name","price","originalPrice","sizes","colors","code","images360","features","hotspots","icon","type","announceSlideChange","index","slide","message","length","nextSlide","prev","newIndex","prevSlide","goToSlide","interval","setInterval","current","clearInterval","handleMouseEnter","handleMouseLeave","handleKeyDown","e","key","Math","max","min","preventDefault","handleTabKey","shiftKey","announceAutoplayState","focusableElements","getFocusableElements","firstElement","lastElement","document","activeElement","focus","modal","querySelector","quickView","Array","from","querySelectorAll","isPlaying","_sliderRef$current","timeoutId","setTimeout","clearTimeout","handleZoomIn","handleZoomOut","newZoom","handleMouseDown","clientX","clientY","handleMouseMove","_imageRef$current","_imageRef$current2","maxPanX","offsetWidth","maxPanY","offsetHeight","newX","newY","handleMouseUp","handleWheel","ctrlKey","delta","sign","deltaY","handleKeyZoom","window","addEventListener","removeEventListener","handleTouchStart","Date","now","touches","distance","hypot","zoom","handleTouchMove","currentTime","currentX","timeDiff","scale","handleTouchEnd","velocityThreshold","abs","navigator","vibrate","touch","changedTouches","element","elementFromPoint","hotspotElement","closest","hotspot","hotspotId","dataset","isLeftSwipe","isRightSwipe","slider","getSlideClassName","active","next","handleQuickView","productId","handle360Drag","rect","getBoundingClientRect","left","percentage","width","newDegree","floor","toggleView","renderQuickView","className","onClick","stopPropagation","children","quickViewContent","closeButton","fileName","_jsxFileName","lineNumber","columnNumber","productGallery","ref","view360","onMouseMove","src","alt","viewToggle","standardView","productInfo","priceWrapper","sizeSelector","sizeOptions","map","size","sizeOption","selected","colorSelector","colorOptions","colorOption","style","feature","addToCart","disabled","renderHotspots","top","hotspotIcon","hotspotContent","quickViewButton","hotspotRing","preloadNextImage","nextIndex","imageUrl","has","img","Image","onload","handleScroll","scrolled","pageYOffset","transform","canvas","ctx","getContext","particles","createParticle","random","height","speedX","speedY","opacity","i","push","animate","clearRect","forEach","particle","beginPath","arc","PI","fillStyle","fill","requestAnimationFrame","handleSkipToContent","mainContent","scrollIntoView","skipLink","role","visuallyHidden","hero","onMouseEnter","onMouseLeave","onKeyDown","onTouchStart","onTouchMove","onTouchEnd","onMouseDown","onMouseUp","onWheel","tabIndex","cursor","parallaxWrapper","el","content","to","imageWrapper","media","srcSet","loading","onLoad","slideImage","skeleton","fallback","onClose","controls","arrow","indicators","_","indicator","zoomControl","zoomButton","previewContainer","preview","previewImage","previewOverlay","progressBar","progressFill","_c3","$RefreshReg$"],"sources":["C:/Users/kaybe/Downloads/Sneakeralot-ecommerce-website-main/client/src/components/layout/Hero/Hero.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef, lazy, Suspense } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styles from './Hero.module.css';\r\n\r\n// Lazy load components\r\nconst QuickView = lazy(() => import('./QuickView'));\r\n\r\nconst Hero = () => {\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const [isAutoPlaying, setIsAutoPlaying] = useState(true);\r\n  const [direction, setDirection] = useState('next');\r\n  const [touchStart, setTouchStart] = useState(null);\r\n  const [touchEnd, setTouchEnd] = useState(null);\r\n  const [isZoomed, setIsZoomed] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [zoomLevel, setZoomLevel] = useState(1);\r\n  const [panPosition, setPanPosition] = useState({ x: 0, y: 0 });\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\r\n  const [activeHotspot, setActiveHotspot] = useState(null);\r\n  const [touchMoveCount, setTouchMoveCount] = useState(0);\r\n  const [pinchStart, setPinchStart] = useState(null);\r\n  const touchTimeout = useRef(null);\r\n  const sliderRef = useRef(null);\r\n  const progressInterval = useRef(null);\r\n  const imageRef = useRef(null);\r\n  const [activeQuickView, setActiveQuickView] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const [selectedColor, setSelectedColor] = useState(null);\r\n  const [is360View, setIs360View] = useState(false);\r\n  const [rotationDegree, setRotationDegree] = useState(0);\r\n  const rotationRef = useRef(null);\r\n  const [announceMessage, setAnnounceMessage] = useState('');\r\n  const [focusedElement, setFocusedElement] = useState(null);\r\n  const announceRef = useRef(null);\r\n  const slideRefs = useRef([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [swipeVelocity, setSwipeVelocity] = useState(0);\r\n  const [lastTouchTime, setLastTouchTime] = useState(0);\r\n  const [lastTouchX, setLastTouchX] = useState(0);\r\n  const [preloadedImages, setPreloadedImages] = useState(new Set());\r\n  const parallaxRef = useRef(null);\r\n  const particlesRef = useRef(null);\r\n\r\n  const slides = [\r\n    {\r\n      id: 1,\r\n      title: \"Summer Collection 2024\",\r\n      subtitle: \"Step into Style\",\r\n      description: \"Discover the latest trends in sneaker fashion with our curated summer collection\",\r\n      cta: \"Shop Now\",\r\n      image: \"/images/hero/slide1.jpg\",\r\n      color: \"#FF4D4D\",\r\n      product: {\r\n        name: \"Air Max Pulse\",\r\n        price: 179.99,\r\n        originalPrice: 199.99,\r\n        sizes: [\"US 7\", \"US 8\", \"US 9\", \"US 10\", \"US 11\"],\r\n        colors: [\r\n          { name: \"Obsidian\", code: \"#1a237e\" },\r\n          { name: \"Crimson\", code: \"#d32f2f\" },\r\n          { name: \"Platinum\", code: \"#e0e0e0\" }\r\n        ],\r\n        images360: [\r\n          \"/images/hero/slide1.jpg\",\r\n          \"/images/hero/slide1.jpg\",\r\n          \"/images/hero/slide1.jpg\"\r\n        ],\r\n        features: [\"Responsive Cushioning\", \"Breathable Mesh\", \"Durable Outsole\"]\r\n      },\r\n      hotspots: [\r\n        {\r\n          id: 'hs1',\r\n          x: 25,\r\n          y: 45,\r\n          title: 'Premium Materials',\r\n          description: 'Made with genuine leather and premium textiles',\r\n          icon: 'diamond-outline',\r\n          type: 'material'\r\n        },\r\n        {\r\n          id: 'hs2',\r\n          x: 65,\r\n          y: 70,\r\n          title: 'Comfort Technology',\r\n          description: 'Advanced cushioning system for all-day comfort',\r\n          icon: 'fitness-outline',\r\n          type: 'feature',\r\n          price: 179.99\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"Limited Edition Drops\",\r\n      subtitle: \"Exclusive Collection\",\r\n      description: \"Get your hands on rare and exclusive sneakers before they're gone\",\r\n      cta: \"View Collection\",\r\n      image: \"/images/hero/slide2.jpg\",\r\n      color: \"#4D7FFF\",\r\n      product: {\r\n        name: \"Limited Edition Runner\",\r\n        price: 199.99,\r\n        sizes: [\"US 8\", \"US 9\", \"US 10\"],\r\n        colors: [\r\n          { name: \"Gold\", code: \"#FFD700\" },\r\n          { name: \"Silver\", code: \"#C0C0C0\" }\r\n        ],\r\n        images360: [\r\n          \"/images/hero/slide2.jpg\",\r\n          \"/images/hero/slide2.jpg\",\r\n          \"/images/hero/slide2.jpg\"\r\n        ],\r\n        features: [\"Limited Edition\", \"Numbered Series\", \"Certificate of Authenticity\"]\r\n      },\r\n      hotspots: [\r\n        {\r\n          id: 'hs3',\r\n          x: 35,\r\n          y: 60,\r\n          title: 'Limited Edition',\r\n          description: 'Only 100 pairs available worldwide',\r\n          icon: 'star-outline',\r\n          type: 'feature'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 3,\r\n      title: \"New Arrivals\",\r\n      subtitle: \"Fresh Kicks\",\r\n      description: \"Be the first to wear the newest releases from top brands\",\r\n      cta: \"Explore Now\",\r\n      image: \"/images/hero/slide3.jpg\",\r\n      color: \"#FFB84D\",\r\n      product: {\r\n        name: \"Fresh Release\",\r\n        price: 159.99,\r\n        sizes: [\"US 7\", \"US 8\", \"US 9\", \"US 10\", \"US 11\"],\r\n        colors: [\r\n          { name: \"White\", code: \"#FFFFFF\" },\r\n          { name: \"Black\", code: \"#000000\" }\r\n        ],\r\n        images360: [\r\n          \"/images/hero/slide3.jpg\",\r\n          \"/images/hero/slide3.jpg\",\r\n          \"/images/hero/slide3.jpg\"\r\n        ],\r\n        features: [\"New Release\", \"Modern Design\", \"Premium Quality\"]\r\n      }\r\n    }\r\n  ];\r\n\r\n  const announceSlideChange = useCallback((index) => {\r\n    const slide = slides[index];\r\n    const message = `Now showing slide ${index + 1} of ${slides.length}: ${slide.title}. ${slide.description}`;\r\n    setAnnounceMessage(message);\r\n  }, [slides]);\r\n\r\n  const nextSlide = useCallback(() => {\r\n    setDirection('next');\r\n    setCurrentSlide((prev) => {\r\n      const newIndex = (prev + 1) % slides.length;\r\n      announceSlideChange(newIndex);\r\n      return newIndex;\r\n    });\r\n    setIsZoomed(false);\r\n    setProgress(0);\r\n  }, [slides.length, announceSlideChange]);\r\n\r\n  const prevSlide = useCallback(() => {\r\n    setDirection('prev');\r\n    setCurrentSlide((prev) => {\r\n      const newIndex = (prev - 1 + slides.length) % slides.length;\r\n      announceSlideChange(newIndex);\r\n      return newIndex;\r\n    });\r\n    setIsZoomed(false);\r\n    setProgress(0);\r\n  }, [slides.length, announceSlideChange]);\r\n\r\n  const goToSlide = (index) => {\r\n    setDirection(index > currentSlide ? 'next' : 'prev');\r\n    setCurrentSlide(index);\r\n    announceSlideChange(index);\r\n    setIsZoomed(false);\r\n    setProgress(0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if (isAutoPlaying && !isZoomed) {\r\n      interval = setInterval(nextSlide, 5000);\r\n      \r\n      // Progress bar update\r\n      if (progressInterval.current) {\r\n        clearInterval(progressInterval.current);\r\n      }\r\n      progressInterval.current = setInterval(() => {\r\n        setProgress(prev => {\r\n          if (prev >= 100) return 0;\r\n          return prev + 2;\r\n        });\r\n      }, 100);\r\n    }\r\n    return () => {\r\n      clearInterval(interval);\r\n      if (progressInterval.current) {\r\n        clearInterval(progressInterval.current);\r\n      }\r\n    };\r\n  }, [isAutoPlaying, nextSlide, isZoomed]);\r\n\r\n  const handleMouseEnter = () => setIsAutoPlaying(false);\r\n  const handleMouseLeave = () => {\r\n    if (!isZoomed) {\r\n      setIsAutoPlaying(true);\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    switch (e.key) {\r\n      case 'ArrowLeft':\r\n        prevSlide();\r\n        break;\r\n      case 'ArrowRight':\r\n        nextSlide();\r\n        break;\r\n      case 'ArrowUp':\r\n        if (isZoomed) {\r\n          setPanPosition(prev => ({\r\n            ...prev,\r\n            y: Math.max(prev.y - 10, -100)\r\n          }));\r\n        }\r\n        break;\r\n      case 'ArrowDown':\r\n        if (isZoomed) {\r\n          setPanPosition(prev => ({\r\n            ...prev,\r\n            y: Math.min(prev.y + 10, 100)\r\n          }));\r\n        }\r\n        break;\r\n      case 'Escape':\r\n        if (isZoomed) {\r\n          setIsZoomed(false);\r\n          setPanPosition({ x: 0, y: 0 });\r\n          setZoomLevel(1);\r\n        } else if (activeQuickView !== null) {\r\n          setActiveQuickView(null);\r\n        }\r\n        break;\r\n      case 'Tab':\r\n        // Handle focus trap in quick view modal\r\n        if (activeQuickView !== null) {\r\n          e.preventDefault();\r\n          handleTabKey(e.shiftKey);\r\n        }\r\n        break;\r\n      case ' ':\r\n      case 'Enter':\r\n        if (focusedElement === 'slider') {\r\n          setIsAutoPlaying(prev => !prev);\r\n          announceAutoplayState(!isAutoPlaying);\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleTabKey = (shiftKey) => {\r\n    const focusableElements = getFocusableElements();\r\n    const firstElement = focusableElements[0];\r\n    const lastElement = focusableElements[focusableElements.length - 1];\r\n    \r\n    if (shiftKey && document.activeElement === firstElement) {\r\n      lastElement.focus();\r\n    } else if (!shiftKey && document.activeElement === lastElement) {\r\n      firstElement.focus();\r\n    }\r\n  };\r\n\r\n  const getFocusableElements = () => {\r\n    const modal = document.querySelector(`.${styles.quickView}`);\r\n    if (!modal) return [];\r\n    \r\n    return Array.from(\r\n      modal.querySelectorAll(\r\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n      )\r\n    );\r\n  };\r\n\r\n  const announceAutoplayState = (isPlaying) => {\r\n    setAnnounceMessage(\r\n      isPlaying ? 'Slideshow autoplay started' : 'Slideshow autoplay paused'\r\n    );\r\n  };\r\n\r\n  // Focus management\r\n  useEffect(() => {\r\n    if (activeQuickView !== null) {\r\n      // Focus first focusable element in quick view\r\n      const focusableElements = getFocusableElements();\r\n      if (focusableElements.length > 0) {\r\n        focusableElements[0].focus();\r\n      }\r\n    } else {\r\n      // Return focus to slider\r\n      sliderRef.current?.focus();\r\n    }\r\n  }, [activeQuickView]);\r\n\r\n  // Screen reader announcements\r\n  useEffect(() => {\r\n    const timeoutId = setTimeout(() => {\r\n      setAnnounceMessage('');\r\n    }, 1000);\r\n\r\n    return () => clearTimeout(timeoutId);\r\n  }, [announceMessage]);\r\n\r\n  const handleZoomIn = () => {\r\n    setZoomLevel(prev => Math.min(prev + 0.5, 3));\r\n    setIsZoomed(true);\r\n    setIsAutoPlaying(false);\r\n  };\r\n\r\n  const handleZoomOut = () => {\r\n    setZoomLevel(prev => {\r\n      const newZoom = Math.max(prev - 0.5, 1);\r\n      if (newZoom === 1) {\r\n        setIsZoomed(false);\r\n        setPanPosition({ x: 0, y: 0 });\r\n      }\r\n      return newZoom;\r\n    });\r\n  };\r\n\r\n  const handleMouseDown = (e) => {\r\n    if (isZoomed) {\r\n      setIsDragging(true);\r\n      setDragStart({\r\n        x: e.clientX - panPosition.x,\r\n        y: e.clientY - panPosition.y\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (isDragging && isZoomed) {\r\n      const maxPanX = (imageRef.current?.offsetWidth * (zoomLevel - 1)) / 2;\r\n      const maxPanY = (imageRef.current?.offsetHeight * (zoomLevel - 1)) / 2;\r\n      \r\n      const newX = e.clientX - dragStart.x;\r\n      const newY = e.clientY - dragStart.y;\r\n\r\n      setPanPosition({\r\n        x: Math.max(Math.min(newX, maxPanX), -maxPanX),\r\n        y: Math.max(Math.min(newY, maxPanY), -maxPanY)\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setIsDragging(false);\r\n  };\r\n\r\n  const handleWheel = (e) => {\r\n    if (e.ctrlKey) {\r\n      e.preventDefault();\r\n      const delta = -Math.sign(e.deltaY) * 0.1;\r\n      const newZoom = Math.max(1, Math.min(3, zoomLevel + delta));\r\n      setZoomLevel(newZoom);\r\n      if (newZoom > 1) {\r\n        setIsZoomed(true);\r\n        setIsAutoPlaying(false);\r\n      } else {\r\n        setIsZoomed(false);\r\n        setPanPosition({ x: 0, y: 0 });\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeyZoom = (e) => {\r\n      if (e.ctrlKey && e.key === '+') {\r\n        e.preventDefault();\r\n        handleZoomIn();\r\n      } else if (e.ctrlKey && e.key === '-') {\r\n        e.preventDefault();\r\n        handleZoomOut();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyZoom);\r\n    return () => window.removeEventListener('keydown', handleKeyZoom);\r\n  }, []);\r\n\r\n  const handleTouchStart = (e) => {\r\n    setLastTouchTime(Date.now());\r\n    setLastTouchX(e.touches[0].clientX);\r\n    if (e.touches.length === 2) {\r\n      // Handle pinch zoom\r\n      const distance = Math.hypot(\r\n        e.touches[0].clientX - e.touches[1].clientX,\r\n        e.touches[0].clientY - e.touches[1].clientY\r\n      );\r\n      setPinchStart({ distance, zoom: zoomLevel });\r\n    } else {\r\n      setTouchStart(e.touches[0].clientX);\r\n      setTouchMoveCount(0);\r\n      \r\n      if (touchTimeout.current) {\r\n        clearTimeout(touchTimeout.current);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleTouchMove = (e) => {\r\n    const currentTime = Date.now();\r\n    const currentX = e.touches[0].clientX;\r\n    const timeDiff = currentTime - lastTouchTime;\r\n    const distance = currentX - lastTouchX;\r\n    \r\n    if (timeDiff > 0) {\r\n      setSwipeVelocity(distance / timeDiff);\r\n    }\r\n    \r\n    if (pinchStart && e.touches.length === 2) {\r\n      // Handle pinch zoom\r\n      e.preventDefault();\r\n      const distance = Math.hypot(\r\n        e.touches[0].clientX - e.touches[1].clientX,\r\n        e.touches[0].clientY - e.touches[1].clientY\r\n      );\r\n      \r\n      const scale = distance / pinchStart.distance;\r\n      const newZoom = Math.max(1, Math.min(3, pinchStart.zoom * scale));\r\n      \r\n      setZoomLevel(newZoom);\r\n      if (newZoom > 1) {\r\n        setIsZoomed(true);\r\n        setIsAutoPlaying(false);\r\n      }\r\n    } else if (e.touches.length === 1) {\r\n      setTouchEnd(e.touches[0].clientX);\r\n      setTouchMoveCount(prev => prev + 1);\r\n    }\r\n  };\r\n\r\n  const handleTouchEnd = (e) => {\r\n    const velocityThreshold = 0.5;\r\n    if (Math.abs(swipeVelocity) > velocityThreshold) {\r\n      if (swipeVelocity > 0) {\r\n        prevSlide();\r\n      } else {\r\n        nextSlide();\r\n      }\r\n      // Add haptic feedback if available\r\n      if (window.navigator.vibrate) {\r\n        window.navigator.vibrate(50);\r\n      }\r\n    }\r\n    if (pinchStart) {\r\n      setPinchStart(null);\r\n      if (zoomLevel === 1) {\r\n        setIsZoomed(false);\r\n        setPanPosition({ x: 0, y: 0 });\r\n      }\r\n    } else {\r\n      if (touchMoveCount < 3) {\r\n        // Handle tap\r\n        touchTimeout.current = setTimeout(() => {\r\n          const touch = e.changedTouches[0];\r\n          const element = document.elementFromPoint(touch.clientX, touch.clientY);\r\n          const hotspotElement = element.closest(`.${styles.hotspot}`);\r\n          \r\n          if (hotspotElement) {\r\n            const hotspotId = hotspotElement.dataset.id;\r\n            setActiveHotspot(activeHotspot === hotspotId ? null : hotspotId);\r\n          } else {\r\n            setActiveHotspot(null);\r\n          }\r\n        }, 300);\r\n      } else {\r\n        // Handle swipe\r\n        if (!touchStart || !touchEnd) return;\r\n        \r\n        const distance = touchStart - touchEnd;\r\n        const isLeftSwipe = distance > 50;\r\n        const isRightSwipe = distance < -50;\r\n\r\n        if (isLeftSwipe) {\r\n          nextSlide();\r\n        } else if (isRightSwipe) {\r\n          prevSlide();\r\n        }\r\n      }\r\n    }\r\n    \r\n    setTouchStart(null);\r\n    setTouchEnd(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const slider = sliderRef.current;\r\n    if (slider) {\r\n      slider.focus();\r\n    }\r\n  }, []);\r\n\r\n  const getSlideClassName = (index) => {\r\n    if (index === currentSlide) return styles.active;\r\n    if (direction === 'next' && index === (currentSlide + 1) % slides.length) return styles.next;\r\n    if (direction === 'prev' && index === (currentSlide - 1 + slides.length) % slides.length) return styles.prev;\r\n    return '';\r\n  };\r\n\r\n  const handleQuickView = (productId) => {\r\n    setActiveQuickView(activeQuickView === productId ? null : productId);\r\n    setSelectedSize(null);\r\n    setSelectedColor(null);\r\n    setIs360View(false);\r\n    setRotationDegree(0);\r\n  };\r\n\r\n  const handle360Drag = (e) => {\r\n    if (is360View && rotationRef.current) {\r\n      const rect = rotationRef.current.getBoundingClientRect();\r\n      const x = e.clientX - rect.left;\r\n      const percentage = x / rect.width;\r\n      const newDegree = Math.floor(percentage * 360);\r\n      setRotationDegree(newDegree);\r\n    }\r\n  };\r\n\r\n  const toggleView = () => {\r\n    setIs360View(!is360View);\r\n    setRotationDegree(0);\r\n  };\r\n\r\n  const renderQuickView = (product) => {\r\n    if (!product) return null;\r\n\r\n    return (\r\n      <div className={styles.quickView} onClick={(e) => e.stopPropagation()}>\r\n        <div className={styles.quickViewContent}>\r\n          <button \r\n            className={styles.closeButton}\r\n            onClick={() => setActiveQuickView(null)}\r\n            aria-label=\"Close quick view\"\r\n          >\r\n            <ion-icon name=\"close-outline\"></ion-icon>\r\n          </button>\r\n\r\n          <div className={styles.productGallery}>\r\n            {is360View ? (\r\n              <div \r\n                ref={rotationRef}\r\n                className={styles.view360}\r\n                onMouseMove={handle360Drag}\r\n              >\r\n                <img \r\n                  src={product.images360[Math.floor(rotationDegree / (360 / product.images360.length))]}\r\n                  alt={`${product.name} - ${rotationDegree}° view`}\r\n                />\r\n                <button \r\n                  className={styles.viewToggle}\r\n                  onClick={toggleView}\r\n                  aria-label=\"Switch to standard view\"\r\n                >\r\n                  <ion-icon name=\"image-outline\"></ion-icon>\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div className={styles.standardView}>\r\n                <img src={product.image} alt={product.name} />\r\n                <button \r\n                  className={styles.viewToggle}\r\n                  onClick={toggleView}\r\n                  aria-label=\"Switch to 360° view\"\r\n                >\r\n                  <ion-icon name=\"360-outline\"></ion-icon>\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className={styles.productInfo}>\r\n            <h3>{product.name}</h3>\r\n            <div className={styles.priceWrapper}>\r\n              <span className={styles.price}>${product.price}</span>\r\n              {product.originalPrice && (\r\n                <span className={styles.originalPrice}>${product.originalPrice}</span>\r\n              )}\r\n            </div>\r\n\r\n            <div className={styles.sizeSelector}>\r\n              <h4>Select Size</h4>\r\n              <div className={styles.sizeOptions}>\r\n                {product.sizes.map(size => (\r\n                  <button\r\n                    key={size}\r\n                    className={`${styles.sizeOption} ${selectedSize === size ? styles.selected : ''}`}\r\n                    onClick={() => setSelectedSize(size)}\r\n                  >\r\n                    {size}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className={styles.colorSelector}>\r\n              <h4>Select Color</h4>\r\n              <div className={styles.colorOptions}>\r\n                {product.colors.map(color => (\r\n                  <button\r\n                    key={color.name}\r\n                    className={`${styles.colorOption} ${selectedColor === color.name ? styles.selected : ''}`}\r\n                    style={{ '--color': color.code }}\r\n                    onClick={() => setSelectedColor(color.name)}\r\n                    aria-label={`Select ${color.name} color`}\r\n                  >\r\n                    {selectedColor === color.name && (\r\n                      <ion-icon name=\"checkmark-outline\"></ion-icon>\r\n                    )}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className={styles.features}>\r\n              {product.features.map((feature, index) => (\r\n                <div key={index} className={styles.feature}>\r\n                  <ion-icon name=\"checkmark-circle-outline\"></ion-icon>\r\n                  <span>{feature}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <button \r\n              className={styles.addToCart}\r\n              disabled={!selectedSize || !selectedColor}\r\n            >\r\n              Add to Cart\r\n              <ion-icon name=\"bag-add-outline\"></ion-icon>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderHotspots = (slide) => {\r\n    if (!slide.hotspots) return null;\r\n\r\n    return slide.hotspots.map(hotspot => (\r\n      <div\r\n        key={hotspot.id}\r\n        className={`${styles.hotspot} ${styles[hotspot.type]} ${activeHotspot === hotspot.id ? styles.active : ''}`}\r\n        style={{ left: `${hotspot.x}%`, top: `${hotspot.y}%` }}\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          if (hotspot.type === '360view') {\r\n            setIs360View(true);\r\n          } else {\r\n            setActiveHotspot(activeHotspot === hotspot.id ? null : hotspot.id);\r\n          }\r\n        }}\r\n        data-id={hotspot.id}\r\n      >\r\n        <div className={styles.hotspotIcon}>\r\n          <ion-icon name={hotspot.icon}></ion-icon>\r\n        </div>\r\n        <div className={styles.hotspotContent}>\r\n          <h3>{hotspot.title}</h3>\r\n          <p>{hotspot.description}</p>\r\n          {hotspot.price && (\r\n            <button \r\n              className={styles.quickViewButton}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                handleQuickView(slide.id);\r\n              }}\r\n            >\r\n              Quick View\r\n              <ion-icon name=\"eye-outline\"></ion-icon>\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className={styles.hotspotRing}></div>\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  // Preload images\r\n  useEffect(() => {\r\n    const preloadNextImage = (index) => {\r\n      const nextIndex = (index + 1) % slides.length;\r\n      const imageUrl = slides[nextIndex].image;\r\n      \r\n      if (!preloadedImages.has(imageUrl)) {\r\n        const img = new Image();\r\n        img.src = imageUrl;\r\n        img.onload = () => {\r\n          setPreloadedImages(prev => new Set([...prev, imageUrl]));\r\n        };\r\n      }\r\n    };\r\n\r\n    preloadNextImage(currentSlide);\r\n  }, [currentSlide, slides, preloadedImages]);\r\n\r\n  // Parallax effect\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      if (parallaxRef.current) {\r\n        const scrolled = window.pageYOffset;\r\n        parallaxRef.current.style.transform = `translateY(${scrolled * 0.5}px)`;\r\n      }\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  // Particle effect\r\n  useEffect(() => {\r\n    if (particlesRef.current) {\r\n      const canvas = particlesRef.current;\r\n      const ctx = canvas.getContext('2d');\r\n      const particles = [];\r\n\r\n      const createParticle = () => ({\r\n        x: Math.random() * canvas.width,\r\n        y: Math.random() * canvas.height,\r\n        size: Math.random() * 3 + 1,\r\n        speedX: Math.random() * 2 - 1,\r\n        speedY: Math.random() * 2 - 1,\r\n        opacity: Math.random() * 0.5 + 0.2\r\n      });\r\n\r\n      for (let i = 0; i < 50; i++) {\r\n        particles.push(createParticle());\r\n      }\r\n\r\n      const animate = () => {\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        \r\n        particles.forEach(particle => {\r\n          particle.x += particle.speedX;\r\n          particle.y += particle.speedY;\r\n\r\n          if (particle.x < 0 || particle.x > canvas.width) particle.speedX *= -1;\r\n          if (particle.y < 0 || particle.y > canvas.height) particle.speedY *= -1;\r\n\r\n          ctx.beginPath();\r\n          ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);\r\n          ctx.fillStyle = `rgba(255, 255, 255, ${particle.opacity})`;\r\n          ctx.fill();\r\n        });\r\n\r\n        requestAnimationFrame(animate);\r\n      };\r\n\r\n      animate();\r\n    }\r\n  }, []);\r\n\r\n  // Skip link for accessibility\r\n  const handleSkipToContent = () => {\r\n    const mainContent = document.querySelector('main');\r\n    if (mainContent) {\r\n      mainContent.focus();\r\n      mainContent.scrollIntoView();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button \r\n        onClick={handleSkipToContent}\r\n        className={styles.skipLink}\r\n      >\r\n        Skip to main content\r\n      </button>\r\n\r\n      <div \r\n        role=\"status\" \r\n        aria-live=\"polite\" \r\n        className={styles.visuallyHidden}\r\n      >\r\n        {announceMessage}\r\n      </div>\r\n\r\n      <section \r\n        ref={sliderRef}\r\n        className={styles.hero}\r\n        onMouseEnter={handleMouseEnter}\r\n        onMouseLeave={handleMouseLeave}\r\n        onKeyDown={handleKeyDown}\r\n        onTouchStart={handleTouchStart}\r\n        onTouchMove={handleTouchMove}\r\n        onTouchEnd={handleTouchEnd}\r\n        onMouseDown={handleMouseDown}\r\n        onMouseMove={handleMouseMove}\r\n        onMouseUp={handleMouseUp}\r\n        onWheel={handleWheel}\r\n        tabIndex=\"0\"\r\n        role=\"region\"\r\n        aria-label={`Hero Slider with ${slides.length} slides. Use arrow keys to navigate. Press Space or Enter to toggle autoplay.`}\r\n        aria-roledescription=\"carousel\"\r\n        style={{ cursor: isDragging ? 'grabbing' : isZoomed ? 'grab' : 'default' }}\r\n      >\r\n        <canvas \r\n          ref={particlesRef}\r\n          className={styles.particles}\r\n          aria-hidden=\"true\"\r\n        />\r\n\r\n        <div \r\n          ref={parallaxRef}\r\n          className={styles.parallaxWrapper}\r\n        >\r\n          <div className={styles.slider}>\r\n            {slides.map((slide, index) => (\r\n              <div\r\n                key={slide.id}\r\n                ref={el => slideRefs.current[index] = el}\r\n                className={`${styles.slide} ${getSlideClassName(index)}`}\r\n                style={{\r\n                  '--slide-color': slide.color\r\n                }}\r\n                role=\"group\"\r\n                aria-roledescription=\"slide\"\r\n                aria-label={`${index + 1} of ${slides.length}: ${slide.title}`}\r\n                aria-hidden={index !== currentSlide}\r\n              >\r\n                <div className={styles.content}>\r\n                  <span className={styles.subtitle} role=\"text\">{slide.subtitle}</span>\r\n                  <h1 className={styles.title}>{slide.title}</h1>\r\n                  <p className={styles.description}>{slide.description}</p>\r\n                  <Link \r\n                    to=\"/shop\" \r\n                    className={styles.cta}\r\n                    aria-label={`${slide.cta} - ${slide.title}`}\r\n                  >\r\n                    {slide.cta}\r\n                    <ion-icon name=\"arrow-forward-outline\" aria-hidden=\"true\"></ion-icon>\r\n                  </Link>\r\n                </div>\r\n                \r\n                <div className={styles.imageWrapper}>\r\n                  <picture>\r\n                    <source\r\n                      media=\"(min-width: 1200px)\"\r\n                      srcSet={`${slide.image}?width=1600 1x, ${slide.image}?width=3200 2x`}\r\n                    />\r\n                    <source\r\n                      media=\"(min-width: 768px)\"\r\n                      srcSet={`${slide.image}?width=1200 1x, ${slide.image}?width=2400 2x`}\r\n                    />\r\n                    <img\r\n                      src={`${slide.image}?width=800`}\r\n                      alt={slide.title}\r\n                      loading={index === currentSlide ? \"eager\" : \"lazy\"}\r\n                      onLoad={() => index === currentSlide && setIsLoading(false)}\r\n                      className={styles.slideImage}\r\n                    />\r\n                  </picture>\r\n                  \r\n                  {isLoading && index === currentSlide && (\r\n                    <div className={styles.skeleton} aria-hidden=\"true\" />\r\n                  )}\r\n                  \r\n                  {renderHotspots(slide)}\r\n                </div>\r\n\r\n                {activeQuickView === slide.id && slide.product && (\r\n                  <Suspense fallback={<div className={styles.loading}>Loading...</div>}>\r\n                    <QuickView \r\n                      product={slide.product}\r\n                      onClose={() => setActiveQuickView(null)}\r\n                    />\r\n                  </Suspense>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div \r\n          className={styles.controls} \r\n          role=\"group\" \r\n          aria-label=\"Slider controls\"\r\n        >\r\n          <button \r\n            className={`${styles.arrow} ${styles.prev}`}\r\n            onClick={prevSlide}\r\n            aria-label=\"Previous slide\"\r\n            aria-controls=\"hero-slider\"\r\n          >\r\n            <ion-icon name=\"chevron-back-outline\" aria-hidden=\"true\"></ion-icon>\r\n          </button>\r\n          <div \r\n            className={styles.indicators} \r\n            role=\"group\" \r\n            aria-label=\"Slide indicators\"\r\n          >\r\n            {slides.map((_, index) => (\r\n              <button\r\n                key={index}\r\n                className={`${styles.indicator} ${index === currentSlide ? styles.active : ''}`}\r\n                onClick={() => goToSlide(index)}\r\n                aria-label={`Go to slide ${index + 1}`}\r\n                aria-current={index === currentSlide}\r\n                aria-controls=\"hero-slider\"\r\n              />\r\n            ))}\r\n          </div>\r\n          <button \r\n            className={`${styles.arrow} ${styles.next}`}\r\n            onClick={nextSlide}\r\n            aria-label=\"Next slide\"\r\n            aria-controls=\"hero-slider\"\r\n          >\r\n            <ion-icon name=\"chevron-forward-outline\" aria-hidden=\"true\"></ion-icon>\r\n          </button>\r\n        </div>\r\n\r\n        <div className={styles.zoomControl}>\r\n          <button\r\n            className={styles.zoomButton}\r\n            onClick={handleZoomIn}\r\n            disabled={zoomLevel >= 3}\r\n            aria-label=\"Zoom in\"\r\n          >\r\n            <ion-icon name=\"add-outline\"></ion-icon>\r\n          </button>\r\n          <button\r\n            className={styles.zoomButton}\r\n            onClick={handleZoomOut}\r\n            disabled={zoomLevel <= 1}\r\n            aria-label=\"Zoom out\"\r\n          >\r\n            <ion-icon name=\"remove-outline\"></ion-icon>\r\n          </button>\r\n          {isZoomed && (\r\n            <button\r\n              className={styles.zoomButton}\r\n              onClick={() => {\r\n                setZoomLevel(1);\r\n                setIsZoomed(false);\r\n                setPanPosition({ x: 0, y: 0 });\r\n              }}\r\n              aria-label=\"Reset zoom\"\r\n            >\r\n              <ion-icon name=\"refresh-outline\"></ion-icon>\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        <div className={styles.previewContainer}>\r\n          {slides.map((slide, index) => (\r\n            <button\r\n              key={slide.id}\r\n              className={`${styles.preview} ${index === currentSlide ? styles.active : ''}`}\r\n              onClick={() => goToSlide(index)}\r\n              aria-label={`Preview of ${slide.title}`}\r\n            >\r\n              <img \r\n                src={slide.image} \r\n                alt=\"\" \r\n                className={styles.previewImage}\r\n                loading=\"lazy\"\r\n              />\r\n              <div className={styles.previewOverlay} />\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        <div className={styles.progressBar}>\r\n          <div \r\n            className={styles.progressFill} \r\n            style={{ width: `${progress}%` }}\r\n          />\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Hero; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}